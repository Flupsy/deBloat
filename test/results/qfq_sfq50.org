* Summary Results
** Latency under load Test, QFQ vs SFQ
** Configurations
*** LAPTOP
| PROG       |        COUNT | DETAILS                  |
| IPERF      |           10 | -t 50 -w256k             |
| FPING      |            2 | -q -c 60                 |
| TXQUEUELEN |         1000 |                          |
| TSO        |          OFF |                          |
| GSO        |          OFF |                          |
| BQL        |         4500 |                          |
| TX_RING    |           64 |                          |
| SPEED      |          100 |                          |
| QDISCS     | The variable | SFQ, STA_QFQ             |
| KERNEL     |        3.1.5 | bql-8                    |
*** CEROWRT

| PROG       |      COUNT | DETAILS                                       |
| IPERF      |         10 | -s -w256k                                     |
| FPING      |          2 |                                               |
| TXQUEUELEN |         40 |                                               |
| TSO        |        OFF |                                               |
| GSO        |        OFF |                                               |
| BQL        | Not needed |                                               |
| SPEED      |        100 | Hooked up to external network port (ge00)     |
| TX_RING    |          4 |                                               |
| QDISCS     |        512 | STA-QFQ script (QFQ, 512 bins, pfifo limit 24 |
| KERNEL     |      3.1.5 | bql-8                                         |

*** GENERAL NOTES
I note that the buffer size on QFQ is set to 24 pfifo per bin.

SFQ has a hard limit of 127 packets. This may or may not account for the difference in plots
** Results (normal scale)
#+PLOT: ind:1 type:2d title:"100 Mbit Latency under Load - SFQ vs QFQ vs PFIFO_FAST - vs 50 iperfs" set:"ylabel 'RTT MS'" set:"yrange [1:10]" set:"key on inside center box title 'PING RTT'" set:"timestamp bottom" file:"pfifo_sfq_vs_qfq_linear50.png"
|  T | QFQ 1 | QFQ 2 | SFQ 2 | SFQ 2 |
|----+-------+-------+-------+-------|
|  1 |  0.41 |  0.31 |  0.36 |  0.25 |
|  2 |  0.37 |  0.28 |  0.34 |  0.30 |
|  3 |  0.37 |  0.31 |  0.38 |  0.38 |
|  4 |  0.53 |  0.34 |  1.31 |  4.23 |
|  5 |  1.71 |  1.55 |  5.69 |  6.72 |
|  6 |  1.74 |  1.84 |  7.67 |  7.70 |
|  7 |  1.70 |  1.73 |  7.71 |  7.60 |
|  8 |  1.68 |  1.65 |  7.51 |  7.38 |
|  9 |  1.74 |  1.71 |  7.50 |  7.40 |
| 10 |  1.75 |  1.65 |  7.63 |  7.73 |
| 11 |  1.65 |  1.65 |  7.67 |  7.35 |
| 12 |  1.74 |  1.78 |  7.37 |  7.77 |
| 13 |  1.72 |  1.72 |  7.78 |  7.84 |
| 14 |  1.61 |  1.74 |  7.64 |  7.22 |
| 15 |  1.62 |  1.73 |  7.38 |  7.66 |
| 16 |  1.71 |  1.70 |  7.47 |  6.82 |
| 17 |  1.70 |  1.64 |  7.54 |  7.50 |
| 18 |  1.63 |  1.64 |  7.63 |  7.66 |
| 19 |  1.78 |  1.66 |  7.64 |  7.37 |
| 20 |  1.62 |  1.61 |  7.49 |  7.63 |
| 21 |  1.67 |  1.68 |  7.68 |  7.38 |
| 22 |  1.56 |  1.73 |  7.47 |  7.65 |
| 23 |  1.64 |  1.61 |  7.16 |  7.47 |
| 24 |  1.76 |  1.72 |  7.46 |  7.32 |
| 25 |  1.72 |  1.74 |  6.93 |  7.63 |
| 26 |  1.67 |  1.68 |  7.33 |  7.41 |
| 27 |  1.72 |  1.64 |  7.00 |  7.44 |
| 28 |  1.79 |  1.73 |  7.60 |  7.60 |
| 29 |  1.81 |  1.74 |  7.52 |  6.87 |
| 30 |  1.69 |  1.38 |  7.51 |  7.56 |
| 31 |  1.45 |  2.06 |  6.88 |  7.85 |
| 32 |  1.52 |  1.75 |  7.43 |  7.46 |
| 33 |  1.38 |  1.79 |  7.43 |  7.54 |
| 34 |  1.76 |  1.67 |  7.40 |  7.47 |
| 35 |  1.84 |  1.89 |  7.13 |  7.18 |
| 36 |  1.78 |  1.73 |  7.42 |  7.45 |
| 37 |  1.79 |  1.67 |  7.35 |  7.74 |
| 38 |  1.64 |  1.63 |  7.72 |  7.72 |
| 39 |  1.44 |  1.62 |  6.86 |  7.38 |
| 40 |  1.60 |  1.71 |  7.65 |  7.39 |
| 41 |  1.69 |  1.69 |  7.68 |  7.55 |
| 42 |  1.68 |  1.70 |  7.53 |  7.63 |
| 43 |  1.72 |  1.76 |  7.25 |  7.47 |
| 44 |  1.74 |  1.49 |  7.60 |  7.31 |
| 45 |  1.80 |  1.59 |  7.68 |  7.50 |
| 46 |  1.62 |  1.74 |  7.70 |  7.39 |
| 47 |  1.48 |  1.60 |  7.45 |  7.65 |
| 48 |  1.62 |  1.64 |  7.66 |  7.74 |
| 49 |  1.66 |  1.43 |  7.54 |  7.52 |
| 50 |  1.64 |  1.64 |  6.93 |  7.71 |
| 51 |  1.57 |  1.72 |  7.66 |  7.53 |
| 52 |  1.71 |  1.74 |  7.38 |  7.38 |
| 53 |  1.52 |  1.43 |  7.60 |  7.25 |
| 54 |  1.67 |  1.71 |  7.39 |  7.62 |
| 55 |  1.76 |  1.67 |  6.69 |  6.40 |
| 56 |  1.67 |  1.70 |  0.27 |  0.37 |
| 57 |  0.48 |  0.45 |  0.53 |  0.28 |
| 58 |  0.33 |  0.33 |  0.54 |  0.52 |
| 59 |  0.33 |  0.31 |  0.56 |  0.28 |
| 60 |  0.51 |  0.28 |  0.33 |  0.30 |

** Results (log scale)
#+PLOT: ind:1 type:2d title:"100 Mbit Latency under Load - SFQ vs QFQ vs PFIFO_FAST - vs 50 iperfs \nLOG SCALE" set:"ylabel 'RTT MS'" set:"logscale y" set:"yrange [1:10]" set:"key on inside center box title 'PING RTT'" file:"sfq_vs_qfq_log50.png"
|  T | QFQ 1 | QFQ 2 | SFQ 2 | SFQ 2 |
|----+-------+-------+-------+-------|
|  1 |  0.41 |  0.31 |  0.36 |  0.25 |
|  2 |  0.37 |  0.28 |  0.34 |  0.30 |
|  3 |  0.37 |  0.31 |  0.38 |  0.38 |
|  4 |  0.53 |  0.34 |  1.31 |  4.23 |
|  5 |  1.71 |  1.55 |  5.69 |  6.72 |
|  6 |  1.74 |  1.84 |  7.67 |  7.70 |
|  7 |  1.70 |  1.73 |  7.71 |  7.60 |
|  8 |  1.68 |  1.65 |  7.51 |  7.38 |
|  9 |  1.74 |  1.71 |  7.50 |  7.40 |
| 10 |  1.75 |  1.65 |  7.63 |  7.73 |
| 11 |  1.65 |  1.65 |  7.67 |  7.35 |
| 12 |  1.74 |  1.78 |  7.37 |  7.77 |
| 13 |  1.72 |  1.72 |  7.78 |  7.84 |
| 14 |  1.61 |  1.74 |  7.64 |  7.22 |
| 15 |  1.62 |  1.73 |  7.38 |  7.66 |
| 16 |  1.71 |  1.70 |  7.47 |  6.82 |
| 17 |  1.70 |  1.64 |  7.54 |  7.50 |
| 18 |  1.63 |  1.64 |  7.63 |  7.66 |
| 19 |  1.78 |  1.66 |  7.64 |  7.37 |
| 20 |  1.62 |  1.61 |  7.49 |  7.63 |
| 21 |  1.67 |  1.68 |  7.68 |  7.38 |
| 22 |  1.56 |  1.73 |  7.47 |  7.65 |
| 23 |  1.64 |  1.61 |  7.16 |  7.47 |
| 24 |  1.76 |  1.72 |  7.46 |  7.32 |
| 25 |  1.72 |  1.74 |  6.93 |  7.63 |
| 26 |  1.67 |  1.68 |  7.33 |  7.41 |
| 27 |  1.72 |  1.64 |  7.00 |  7.44 |
| 28 |  1.79 |  1.73 |  7.60 |  7.60 |
| 29 |  1.81 |  1.74 |  7.52 |  6.87 |
| 30 |  1.69 |  1.38 |  7.51 |  7.56 |
| 31 |  1.45 |  2.06 |  6.88 |  7.85 |
| 32 |  1.52 |  1.75 |  7.43 |  7.46 |
| 33 |  1.38 |  1.79 |  7.43 |  7.54 |
| 34 |  1.76 |  1.67 |  7.40 |  7.47 |
| 35 |  1.84 |  1.89 |  7.13 |  7.18 |
| 36 |  1.78 |  1.73 |  7.42 |  7.45 |
| 37 |  1.79 |  1.67 |  7.35 |  7.74 |
| 38 |  1.64 |  1.63 |  7.72 |  7.72 |
| 39 |  1.44 |  1.62 |  6.86 |  7.38 |
| 40 |  1.60 |  1.71 |  7.65 |  7.39 |
| 41 |  1.69 |  1.69 |  7.68 |  7.55 |
| 42 |  1.68 |  1.70 |  7.53 |  7.63 |
| 43 |  1.72 |  1.76 |  7.25 |  7.47 |
| 44 |  1.74 |  1.49 |  7.60 |  7.31 |
| 45 |  1.80 |  1.59 |  7.68 |  7.50 |
| 46 |  1.62 |  1.74 |  7.70 |  7.39 |
| 47 |  1.48 |  1.60 |  7.45 |  7.65 |
| 48 |  1.62 |  1.64 |  7.66 |  7.74 |
| 49 |  1.66 |  1.43 |  7.54 |  7.52 |
| 50 |  1.64 |  1.64 |  6.93 |  7.71 |
| 51 |  1.57 |  1.72 |  7.66 |  7.53 |
| 52 |  1.71 |  1.74 |  7.38 |  7.38 |
| 53 |  1.52 |  1.43 |  7.60 |  7.25 |
| 54 |  1.67 |  1.71 |  7.39 |  7.62 |
| 55 |  1.76 |  1.67 |  6.69 |  6.40 |
| 56 |  1.67 |  1.70 |  0.27 |  0.37 |
| 57 |  0.48 |  0.45 |  0.53 |  0.28 |
| 58 |  0.33 |  0.33 |  0.54 |  0.52 |
| 59 |  0.33 |  0.31 |  0.56 |  0.28 |
| 60 |  0.51 |  0.28 |  0.33 |  0.30 |


