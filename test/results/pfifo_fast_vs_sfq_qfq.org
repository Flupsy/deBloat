* Summary Results
** Latency under load Test, PFIFO_FAST vs QFQ vs SFQ
** Configurations
*** LAPTOP
| PROG       |        COUNT | DETAILS                  |
| IPERF      |           10 | -t 50 -w256k             |
| FPING      |            2 | -q -c 60                 |
| TXQUEUELEN |         1000 |                          |
| TSO        |          OFF |                          |
| GSO        |          OFF |                          |
| BQL        |         4500 |                          |
| TX_RING    |           64 |                          |
| SPEED      |          100 |                          |
| QDISCS     | The variable | PFIFO_FAST, SFQ, STA_QFQ |
| KERNEL     |        3.1.5 | bql-8                    |
*** CEROWRT

| PROG       |      COUNT | DETAILS                                       |
| IPERF      |         10 | -s -w256k                                     |
| FPING      |          2 |                                               |
| TXQUEUELEN |         40 |                                               |
| TSO        |        OFF |                                               |
| GSO        |        OFF |                                               |
| BQL        | Not needed |                                               |
| SPEED      |        100 | Hooked up to external network port (ge00)     |
| TX_RING    |          4 |                                               |
| QDISCS     |        512 | STA-QFQ script (QFQ, 512 bins, pfifo limit 24 |
| KERNEL     |      3.1.5 | bql-8                                         |

*** GENERAL NOTES
I note that the buffer size on QFQ is set to 24 pfifo per bin.

SFQ has a hard limit of 127 packets. This may or may not account for the difference in plots
** Results (normal scale)
#+PLOT: ind:1 type:2d title:"100 Mbit Latency under Load - SFQ vs QFQ vs PFIFO_FAST - vs 10 iperfs" set:"ylabel 'RTT MS'" set:"yrange [1:120]" set:"key on inside center box title 'PING RTT'" set:"timestamp bottom" file:"pfifo_fast_vs_sfq_qfq_linear.png"
|  T | QFQ 1 | QFQ 2 | SFQ 1 | SFQ 2 | PFIFO_FAST 1 | PFIFO_FAST 2 |
|----+-------+-------+-------+-------+--------------+--------------|
|  1 |  0.33 |  0.32 |  0.47 |  0.34 |         0.47 |         0.29 |
|  2 |  0.50 |  0.32 |  0.44 |  0.31 |         0.42 |         0.27 |
|  3 |  0.33 |  0.29 |  0.33 |  0.30 |         0.51 |         0.44 |
|  4 |  1.57 |  1.66 |  0.38 |  0.31 |         0.34 |         0.29 |
|  5 |  1.57 |  1.44 |  2.75 |  2.72 |         0.51 |         0.33 |
|  6 |  1.64 |  1.73 |  2.74 |  2.77 |        42.87 |        44.26 |
|  7 |  1.68 |  1.58 |  2.78 |  3.07 |        92.74 |        92.19 |
|  8 |  1.81 |  1.69 |  2.84 |  2.72 |       106.22 |       109.44 |
|  9 |  1.41 |  1.65 |  2.55 |  2.85 |       109.85 |       108.23 |
| 10 |  1.63 |  1.62 |  3.04 |  2.64 |       108.34 |       109.47 |
| 11 |  1.60 |  1.59 |  2.79 |  2.64 |       108.81 |       105.99 |
| 12 |  1.55 |  1.68 |  2.64 |  2.68 |       109.15 |       105.52 |
| 13 |  1.69 |  1.83 |  2.78 |  2.94 |       109.01 |       109.66 |
| 14 |  1.46 |  1.57 |  2.81 |  2.95 |       107.30 |       109.17 |
| 15 |  1.72 |  1.58 |  2.58 |  2.91 |       109.99 |       106.35 |
| 16 |  1.77 |  1.82 |  2.87 |  2.94 |       108.91 |       104.81 |
| 17 |  1.72 |  1.83 |  2.79 |  2.74 |       106.96 |       108.11 |
| 18 |  1.65 |  1.62 |  2.82 |  2.86 |       107.15 |       108.81 |
| 19 |  1.75 |  1.57 |  2.88 |  3.01 |       104.27 |       104.17 |
| 20 |  1.86 |  1.65 |  2.97 |  2.90 |       105.45 |       107.03 |
| 21 |  1.59 |  1.63 |  2.71 |  2.85 |       105.96 |       108.03 |
| 22 |  1.70 |  1.70 |  2.88 |  2.70 |       104.66 |       105.39 |
| 23 |  1.78 |  1.76 |  2.98 |  2.98 |       109.02 |       110.66 |
| 24 |  1.75 |  1.78 |  2.67 |  2.72 |       108.88 |       109.76 |
| 25 |  1.71 |  1.70 |  3.02 |  2.78 |       104.89 |       105.07 |
| 26 |  1.64 |  1.68 |  2.70 |  2.88 |       107.17 |       108.83 |
| 27 |  1.60 |  1.70 |  2.97 |  2.63 |       105.60 |       107.49 |
| 28 |  1.63 |  1.71 |  2.75 |  2.73 |       110.58 |       105.87 |
| 29 |  1.69 |  1.72 |  2.74 |  2.69 |       111.85 |       108.29 |
| 30 |  1.55 |  1.72 |  2.88 |  2.81 |       108.74 |       110.87 |
| 31 |  1.75 |  1.78 |  3.02 |  2.83 |       109.05 |       110.67 |
| 32 |  1.57 |  1.74 |  3.04 |  2.92 |       107.59 |       108.30 |
| 33 |  1.68 |  1.76 |  2.76 |  2.85 |       108.09 |       108.12 |
| 34 |  1.56 |  1.62 |  2.96 |  2.80 |       108.13 |       109.57 |
| 35 |  1.71 |  1.65 |  2.91 |  2.96 |       107.70 |       108.57 |
| 36 |  1.78 |  1.69 |  2.85 |  2.85 |       103.03 |       104.14 |
| 37 |  1.75 |  1.67 |  2.81 |  2.73 |       110.58 |       106.67 |
| 38 |  1.69 |  1.74 |  2.83 |  2.73 |       106.48 |       107.90 |
| 39 |  1.67 |  1.64 |  3.15 |  2.65 |       106.27 |       107.21 |
| 40 |  1.77 |  1.47 |  2.86 |  2.67 |       107.41 |       109.31 |
| 41 |  1.73 |  1.70 |  2.97 |  2.94 |       104.01 |       105.04 |
| 42 |  1.65 |  1.70 |  2.78 |  2.75 |       111.26 |       107.23 |
| 43 |  1.72 |  1.87 |  3.01 |  2.62 |       106.83 |       108.77 |
| 44 |  1.76 |  1.91 |  2.63 |  2.82 |       107.83 |       104.01 |
| 45 |  1.62 |  1.62 |  2.86 |  2.95 |       107.00 |       107.41 |
| 46 |  1.67 |  1.69 |  2.94 |  2.75 |       106.64 |       108.56 |
| 47 |  1.52 |  1.74 |  2.71 |  2.68 |       107.98 |       109.50 |
| 48 |  1.55 |  1.71 |  2.89 |  2.97 |       111.58 |       107.76 |
| 49 |  1.76 |  1.80 |  2.94 |  2.65 |       106.11 |       107.76 |
| 50 |  1.65 |  1.70 |  2.73 |  2.64 |       111.93 |       108.32 |
| 51 |  1.48 |  1.59 |  2.99 |  2.99 |       104.87 |       106.01 |
| 52 |  1.84 |  1.43 |  2.88 |  2.75 |       108.31 |       109.72 |
| 53 |  1.70 |  1.58 |  3.01 |  2.70 |       107.35 |       107.74 |
| 54 |  0.37 |  0.26 |  2.59 |  2.98 |       109.84 |       110.53 |
| 55 |  0.47 |  0.44 |  0.35 |  0.24 |       111.44 |       108.03 |
| 56 |  0.37 |  0.27 |  0.53 |  0.56 |         0.30 |         0.30 |
| 57 |  0.25 |  0.29 |  0.54 |  0.38 |         0.36 |         0.31 |
| 58 |  0.26 |  0.34 |  0.32 |  0.42 |         0.56 |         0.52 |
| 59 |  0.35 |  0.27 |  0.33 |  0.30 |         0.36 |         0.24 |
| 60 |  0.33 |  0.26 |  0.34 |  0.34 |         0.29 |         0.31 |
** Results (log scale)
#+PLOT: ind:1 type:2d title:"100 Mbit Latency under Load - SFQ vs QFQ vs PFIFO_FAST - vs 10 iperfs \nLOG SCALE" set:"ylabel 'RTT MS'" set:"logscale y" set:"yrange [1:120]" set:"key on inside center box title 'PING RTT'" file:"pfifo_fast_vs_sfq_qfq_log.png"
|  T | QFQ 1 | QFQ 2 | SFQ 1 | SFQ 2 | PFIFO_FAST 1 | PFIFO_FAST 2 |
|----+-------+-------+-------+-------+--------------+--------------|
|  1 |  0.33 |  0.32 |  0.47 |  0.34 |         0.47 |         0.29 |
|  2 |  0.50 |  0.32 |  0.44 |  0.31 |         0.42 |         0.27 |
|  3 |  0.33 |  0.29 |  0.33 |  0.30 |         0.51 |         0.44 |
|  4 |  1.57 |  1.66 |  0.38 |  0.31 |         0.34 |         0.29 |
|  5 |  1.57 |  1.44 |  2.75 |  2.72 |         0.51 |         0.33 |
|  6 |  1.64 |  1.73 |  2.74 |  2.77 |        42.87 |        44.26 |
|  7 |  1.68 |  1.58 |  2.78 |  3.07 |        92.74 |        92.19 |
|  8 |  1.81 |  1.69 |  2.84 |  2.72 |       106.22 |       109.44 |
|  9 |  1.41 |  1.65 |  2.55 |  2.85 |       109.85 |       108.23 |
| 10 |  1.63 |  1.62 |  3.04 |  2.64 |       108.34 |       109.47 |
| 11 |  1.60 |  1.59 |  2.79 |  2.64 |       108.81 |       105.99 |
| 12 |  1.55 |  1.68 |  2.64 |  2.68 |       109.15 |       105.52 |
| 13 |  1.69 |  1.83 |  2.78 |  2.94 |       109.01 |       109.66 |
| 14 |  1.46 |  1.57 |  2.81 |  2.95 |       107.30 |       109.17 |
| 15 |  1.72 |  1.58 |  2.58 |  2.91 |       109.99 |       106.35 |
| 16 |  1.77 |  1.82 |  2.87 |  2.94 |       108.91 |       104.81 |
| 17 |  1.72 |  1.83 |  2.79 |  2.74 |       106.96 |       108.11 |
| 18 |  1.65 |  1.62 |  2.82 |  2.86 |       107.15 |       108.81 |
| 19 |  1.75 |  1.57 |  2.88 |  3.01 |       104.27 |       104.17 |
| 20 |  1.86 |  1.65 |  2.97 |  2.90 |       105.45 |       107.03 |
| 21 |  1.59 |  1.63 |  2.71 |  2.85 |       105.96 |       108.03 |
| 22 |  1.70 |  1.70 |  2.88 |  2.70 |       104.66 |       105.39 |
| 23 |  1.78 |  1.76 |  2.98 |  2.98 |       109.02 |       110.66 |
| 24 |  1.75 |  1.78 |  2.67 |  2.72 |       108.88 |       109.76 |
| 25 |  1.71 |  1.70 |  3.02 |  2.78 |       104.89 |       105.07 |
| 26 |  1.64 |  1.68 |  2.70 |  2.88 |       107.17 |       108.83 |
| 27 |  1.60 |  1.70 |  2.97 |  2.63 |       105.60 |       107.49 |
| 28 |  1.63 |  1.71 |  2.75 |  2.73 |       110.58 |       105.87 |
| 29 |  1.69 |  1.72 |  2.74 |  2.69 |       111.85 |       108.29 |
| 30 |  1.55 |  1.72 |  2.88 |  2.81 |       108.74 |       110.87 |
| 31 |  1.75 |  1.78 |  3.02 |  2.83 |       109.05 |       110.67 |
| 32 |  1.57 |  1.74 |  3.04 |  2.92 |       107.59 |       108.30 |
| 33 |  1.68 |  1.76 |  2.76 |  2.85 |       108.09 |       108.12 |
| 34 |  1.56 |  1.62 |  2.96 |  2.80 |       108.13 |       109.57 |
| 35 |  1.71 |  1.65 |  2.91 |  2.96 |       107.70 |       108.57 |
| 36 |  1.78 |  1.69 |  2.85 |  2.85 |       103.03 |       104.14 |
| 37 |  1.75 |  1.67 |  2.81 |  2.73 |       110.58 |       106.67 |
| 38 |  1.69 |  1.74 |  2.83 |  2.73 |       106.48 |       107.90 |
| 39 |  1.67 |  1.64 |  3.15 |  2.65 |       106.27 |       107.21 |
| 40 |  1.77 |  1.47 |  2.86 |  2.67 |       107.41 |       109.31 |
| 41 |  1.73 |  1.70 |  2.97 |  2.94 |       104.01 |       105.04 |
| 42 |  1.65 |  1.70 |  2.78 |  2.75 |       111.26 |       107.23 |
| 43 |  1.72 |  1.87 |  3.01 |  2.62 |       106.83 |       108.77 |
| 44 |  1.76 |  1.91 |  2.63 |  2.82 |       107.83 |       104.01 |
| 45 |  1.62 |  1.62 |  2.86 |  2.95 |       107.00 |       107.41 |
| 46 |  1.67 |  1.69 |  2.94 |  2.75 |       106.64 |       108.56 |
| 47 |  1.52 |  1.74 |  2.71 |  2.68 |       107.98 |       109.50 |
| 48 |  1.55 |  1.71 |  2.89 |  2.97 |       111.58 |       107.76 |
| 49 |  1.76 |  1.80 |  2.94 |  2.65 |       106.11 |       107.76 |
| 50 |  1.65 |  1.70 |  2.73 |  2.64 |       111.93 |       108.32 |
| 51 |  1.48 |  1.59 |  2.99 |  2.99 |       104.87 |       106.01 |
| 52 |  1.84 |  1.43 |  2.88 |  2.75 |       108.31 |       109.72 |
| 53 |  1.70 |  1.58 |  3.01 |  2.70 |       107.35 |       107.74 |
| 54 |  0.37 |  0.26 |  2.59 |  2.98 |       109.84 |       110.53 |
| 55 |  0.47 |  0.44 |  0.35 |  0.24 |       111.44 |       108.03 |
| 56 |  0.37 |  0.27 |  0.53 |  0.56 |         0.30 |         0.30 |
| 57 |  0.25 |  0.29 |  0.54 |  0.38 |         0.36 |         0.31 |
| 58 |  0.26 |  0.34 |  0.32 |  0.42 |         0.56 |         0.52 |
| 59 |  0.35 |  0.27 |  0.33 |  0.30 |         0.36 |         0.24 |
| 60 |  0.33 |  0.26 |  0.34 |  0.34 |         0.29 |         0.31 |

